## 愿景文档

#### 场景1

在浏览 https://docs.qingcloud.com/guide/introduction.html 时，A 童鞋对某些东西不是很清楚，他可以直接询问同时在看该文档的童鞋。

#### 场景2

某些时候，并没有很多人同时在线，因此，A 童鞋可以将这个疑问记录在旁边，这样当 B 童鞋看到并且知道答案时可以回复。

#### 场景3

在教学环境中，教师可以随时观察每个学生的阅读进度。

#### 场景4

在一个视频网站上实时的吐槽。

## 功能文档

#### 功能点1

1. 可以看到谁在浏览这个页面
2. 可以看到它们看到哪里
3. 可以加入当前页面的聊天室

#### 功能点2

1. 可以对页面上任意的位置/文字/段落进行评论与回复
2. 有通知功能

## 设计文档

1. 用户
   1. 用户无需注册，无需登录，只需要一个 Username 和 email（用作 gravatar）
   2. 用户没有特殊权限（除了管理员！），在浏览器的 session 内允许修改、删除自己的评论。
2. 聊天
   1. 聊天不存进数据库，完全通过 Socket.io 的 Room 实现
   2. 当前页面也完全通过 Room 实现
3. 评论与回复（TBD）

## API 文档

1. 全程使用 WebSocket 通讯，每个页面单独开启一个 WebSocket 链接
2. WebSocket 有以下功能
   1. （浏览器）加入一个房间，发送自己的 URL、用户名和头像
   2. （服务器）发送所有用户的位置、用户名和头像
   3. （浏览器）反馈自己的位置
   4. （服务器）发送聊天的内容、用户名和头像
   5. （浏览器）发送聊天的内容


## 使用技术

1. 后端：Qingcloud + Node.js + socket.io
2. 前端：Chrome 浏览器插件 + socket.io